---
title: 'Nebula Lab V4 API'
api: 'https://llm.ai-nebula.com/nebula/v4/api'
---

## 简介

Nebula Lab V4 API 提供了视频生成和图片生成的多种功能接口，包括文生视频、图生视频、文生图、图生图等多种AI创作能力。所有接口支持统一的认证方式和一致的响应格式，方便开发者快速集成和使用。

## 认证

<ParamField header="Authorization" type="string" required>
  Bearer Token，如 `Bearer sk-xxxxxxxxxx`
</ParamField>

## 接口列表

### 视频生成

#### 文生视频-提交任务
<ParamField method="POST" path="/nebula/v4/api/nebulaVideoCompletions">
  提交文生视频生成任务
</ParamField>

<ParamField body="videoCompletionsDTO.prompt" type="string" required>
  视频生成的文本提示词
</ParamField>

<ParamField body="videoCompletionsDTO.duration" type="string" required>
  视频时长，支持格式：30, 30s, 1m, 1m30s
</ParamField>

<Tabs>
  <Tab title="cURL示例">
    ```bash
    curl -X POST "https://llm.ai-nebula.com/nebula/v4/api/nebulaVideoCompletions" \
      -H "Content-Type: application/json" \
      -H "Authorization: Bearer sk-xxxxxxxxxx" \
      -d '{
        "prompt": "一只可爱的小猫在草地上玩耍",
        "duration": "30s"
      }'
    ```
  </Tab>
  <Tab title="Python示例">
    ```python
    import requests
    import json

    url = "https://llm.ai-nebula.com/nebula/v4/api/nebulaVideoCompletions"
    headers = {
        "Content-Type": "application/json",
        "Authorization": "Bearer sk-xxxxxxxxxx"
    }
    data = {
        "prompt": "一只可爱的小猫在草地上玩耍",
        "duration": "30s"
    }

    response = requests.post(url, headers=headers, data=json.dumps(data))
    print(response.json())
    ```
  </Tab>
</Tabs>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "task_id": "task-1234567890"
  }
}
```
</ResponseExample>

#### 文生视频-查询任务
<ParamField method="GET" path="/nebula/v4/api/nebulaVideoQuery">
  查询文生视频任务状态和结果
</ParamField>

<ParamField query="taskId" type="string" required>
  任务ID，由提交任务接口返回
</ParamField>

<Tabs>
  <Tab title="cURL示例">
    ```bash
    curl -X GET "https://llm.ai-nebula.com/nebula/v4/api/nebulaVideoQuery?taskId=task-1234567890" \
      -H "Authorization: Bearer sk-xxxxxxxxxx"
    ```
  </Tab>
  <Tab title="Python示例">
    ```python
    import requests

    url = "https://llm.ai-nebula.com/nebula/v4/api/nebulaVideoQuery"
    headers = {
        "Authorization": "Bearer sk-xxxxxxxxxx"
    }
    params = {
        "taskId": "task-1234567890"
    }

    response = requests.get(url, headers=headers, params=params)
    print(response.json())
    ```
  </Tab>
</Tabs>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "task_id": "task-1234567890",
    "status": "succeeded",
    "url": "https://example.com/video.mp4"
  }
}
```
</ResponseExample>

#### 图生视频-传统模式-提交任务
<ParamField method="POST" path="/nebula/v4/api/image2VideoTradition">
  提交传统模式图生视频任务
</ParamField>

<ParamField body="image2VideoTraditionalDTO.image_url" type="string" required>
  输入图片URL
</ParamField>

<ParamField body="image2VideoTraditionalDTO.duration" type="string" required>
  视频时长，支持格式：30, 30s, 1m, 1m30s
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": "task-1234567890"
  }
}
```
</ResponseExample>

#### 图生视频-传统模式-查询任务
<ParamField method="GET" path="/nebula/v4/api/CommonI2VQuery">
  查询传统模式图生视频任务状态和结果
</ParamField>

<ParamField query="taskId" type="string" required>
  任务ID，由提交任务接口返回
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": "task-1234567890",
    "status": "succeeded",
    "url": "https://example.com/video.mp4"
  }
}
```
</ResponseExample>

#### 图生视频-首尾图模式-提交任务
<ParamField method="POST" path="/nebula/v4/api/volcImageFirstLast">
  提交首尾图模式图生视频任务
</ParamField>

<ParamField body="volcImageFirstLastDTO.first_image_url" type="string" required>
  首图URL
</ParamField>

<ParamField body="volcImageFirstLastDTO.last_image_url" type="string" required>
  尾图URL
</ParamField>

<ParamField body="volcImageFirstLastDTO.duration" type="long" required>
  视频时长（秒）
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": "task-1234567890"
  }
}
```
</ResponseExample>

#### 图生视频-首尾图模式-查询任务
<ParamField method="GET" path="/nebula/v4/api/textOrImage2videoQuery/{taskId}">
  查询首尾图模式图生视频任务状态和结果
</ParamField>

<ParamField path="taskId" type="string" required>
  任务ID，由提交任务接口返回
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": "task-1234567890",
    "status": "succeeded",
    "url": "https://example.com/video.mp4"
  }
}
```
</ResponseExample>

#### 图生视频-视频换人-提交任务
<ParamField method="POST" path="/nebula/v4/api/videoFaceMergeSubmit">
  提交视频换人任务
</ParamField>

<ParamField body="visualFaceFusionMovieSubmitTaskRequest.imageUrl" type="string" required>
  人脸图片URL
</ParamField>

<ParamField body="visualFaceFusionMovieSubmitTaskRequest.videoUrl" type="string" required>
  视频URL
</ParamField>

<ParamField body="visualFaceFusionMovieSubmitTaskRequest.reqKey" type="string" required>
  请求key
</ParamField>

<ParamField body="visualFaceFusionMovieSubmitTaskRequest.sourceSimilarity" type="string">
  源相似度
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "output": {
      "task_id": "task-1234567890",
      "task_status": "PENDING"
    },
    "request_id": "request-1234567890"
  }
}
```
</ResponseExample>

#### 图生视频-视频换人-查询任务
<ParamField method="GET" path="/nebula/v4/api/videoFaceMergeQuery">
  查询视频换人任务状态和结果
</ParamField>

<ParamField query="taskId" type="string" required>
  任务ID，由提交任务接口返回
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "task_id": "task-1234567890",
    "status": "succeeded",
    "url": "https://example.com/video.mp4"
  }
}
```
</ResponseExample>

### 图片生成

#### AI生图-文生图
<ParamField method="POST" path="/nebula/v4/api/text2imageSubmit">
  提交文生图任务
</ParamField>

<ParamField body="volcEngineReqDTO.req.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="volcEngineReqDTO.req.size" type="string">
  图片尺寸，如：512x512, 1024x1024
</ParamField>

<Tabs>
  <Tab title="cURL示例">
    ```bash
    curl -X POST "https://llm.ai-nebula.com/nebula/v4/api/text2imageSubmit" \
      -H "Content-Type: application/json" \
      -H "Authorization: Bearer sk-xxxxxxxxxx" \
      -d '{
        "req": {
          "prompt": "一只可爱的小猫在草地上玩耍",
          "size": "1024x1024"
        }
      }'
    ```
  </Tab>
  <Tab title="Python示例">
    ```python
    import requests
    import json

    url = "https://llm.ai-nebula.com/nebula/v4/api/text2imageSubmit"
    headers = {
        "Content-Type": "application/json",
        "Authorization": "Bearer sk-xxxxxxxxxx"
    }
    data = {
        "req": {
            "prompt": "一只可爱的小猫在草地上玩耍",
            "size": "1024x1024"
        }
    }

    response = requests.post(url, headers=headers, data=json.dumps(data))
    print(response.json())
    ```
  </Tab>
</Tabs>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-图生图
<ParamField method="POST" path="/nebula/v4/api/img2imgSubmit">
  提交图生图任务
</ParamField>

<ParamField body="volcImageDTO.volcImageBo.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="volcImageDTO.volcImageBo.image_urls" type="array" required>
  输入图片URL列表
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-批量生图
<ParamField method="POST" path="/nebula/v4/api/batchImageGenerationSubmit">
  提交批量生图任务
</ParamField>

<ParamField body="req.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="req.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="req.n" type="integer">
  生成图片数量
</ParamField>

<ParamField body="req.size" type="string">
  图片尺寸
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image1.jpg"
    }, {
      "url": "https://example.com/image2.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-裂变生图
<ParamField method="POST" path="/nebula/v4/api/imageVariationSubmit">
  提交裂变生图任务
</ParamField>

<ParamField body="batchImageGenerationDTO.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="batchImageGenerationDTO.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="batchImageGenerationDTO.n" type="integer">
  生成图片数量
</ParamField>

<ParamField body="batchImageGenerationDTO.image" type="string">
  参考图片URL
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image1.jpg"
    }, {
      "url": "https://example.com/image2.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-服装种草
<ParamField method="POST" path="/nebula/v4/api/fashionGrassSubmit">
  提交服装种草生图任务
</ParamField>

<ParamField body="batchImageGenerationDTO.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="batchImageGenerationDTO.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="batchImageGenerationDTO.n" type="integer">
  生成图片数量
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-智能去印
<ParamField method="POST" path="/nebula/v4/api/smartWatermarkRemovalSubmit">
  提交智能去印生图任务
</ParamField>

<ParamField body="batchImageGenerationDTO.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="batchImageGenerationDTO.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="batchImageGenerationDTO.n" type="integer">
  生成图片数量
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-商品提取
<ParamField method="POST" path="/nebula/v4/api/productExtractionSubmit">
  提交商品提取生图任务
</ParamField>

<ParamField body="batchImageGenerationDTO.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="batchImageGenerationDTO.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="batchImageGenerationDTO.n" type="integer">
  生成图片数量
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

#### AI生图-服装细节
<ParamField method="POST" path="/nebula/v4/api/clothingDetailsSubmit">
  提交服装细节生图任务
</ParamField>

<ParamField body="batchImageGenerationDTO.prompt" type="string" required>
  图片描述提示词
</ParamField>

<ParamField body="batchImageGenerationDTO.model" type="string" required>
  生图模型ID
</ParamField>

<ParamField body="batchImageGenerationDTO.n" type="integer">
  生成图片数量
</ParamField>

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "images": [{
      "url": "https://example.com/image.jpg"
    }]
  }
}
```
</ResponseExample>

## 响应格式

所有接口返回统一的JSON格式：

<ResponseExample>
```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    // 接口特定返回数据
  }
}
```
</ResponseExample>

### 错误响应

<ResponseExample>
```json
{
  "code": 400,
  "msg": "参数错误",
  "data": null
}
```
</ResponseExample>

## 注意事项

<Note>
- 所有接口都需要进行身份认证，确保在请求头中包含有效的Bearer Token
- 视频生成任务为异步处理，需要通过查询接口获取最终结果
- 图片生成接口支持多种模型和参数配置，具体可根据业务需求选择
- 接口调用会消耗相应的积分，确保账户有足够的余额
</Note>

<Tip>
- 建议使用异步方式处理视频生成任务，避免长时间等待
- 对于批量生成任务，合理控制生成数量，避免系统负载过高
- 定期检查任务状态，及时处理失败的任务
</Tip>
